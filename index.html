<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Sorpresa romántica para mi esposa con flores, corazones, mensajes y música.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sorpresa Romántica Para Mi Esposa</title>
  <style>
    /* RESET Y ESTILOS GLOBALES */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #f5f7fa, #e4e9f2);
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      position: relative;
    }
    main {
      text-align: center;
      max-width: 900px;
      width: 100%;
    }
    h1 { color: #ff9800; font-size: 2.8rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
    p { color: #555; font-size: 1.3rem; line-height: 1.6; margin-bottom: 2rem; }
    .btn {
      background-color: #ff9800;
      color: #fff;
      border: none;
      padding: 15px 30px;
      font-size: 1.2rem;
      cursor: pointer;
      border-radius: 50px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.3s, background-color 0.3s;
      margin-bottom: 2rem;
    }
    .btn:hover { background-color: #f57c00; transform: translateY(-3px); }

    /* LOADER */
    .loader {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: #fff; display: flex; justify-content: center; align-items: center;
      z-index: 1000; transition: opacity 0.5s ease;
    }
    .loader-hidden { opacity: 0; pointer-events: none; }
    .loader-flower {
      width: 100px; height: 100px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23FFEB3B' d='M50 15c-3 0-5.7 1.6-7.2 4.2-1.5-2.6-4.2-4.2-7.2-4.2-4.4 0-8 3.6-8 8 0 3 1.6 5.7 4.2 7.2C29.2 31.7 27.6 34.4 27.6 37.4c0 4.4 3.6 8 8 8 3 0 5.7-1.6 7.2-4.2 1.5 2.6 4.2 4.2 7.2 4.2 4.4 0 8-3.6 8-8 0-3-1.6-5.7-4.2-7.2 2.6-1.5 4.2-4.2 4.2-7.2 0-4.4-3.6-8-8-8z'/%3E%3Ccircle fill='%23FFA000' cx='50' cy='30' r='8'/%3E%3C/svg%3E");
      background-size: contain; background-repeat: no-repeat;
      animation: pulse 1s ease-in-out infinite alternate;
    }
    @keyframes pulse { from { transform: scale(1); } to { transform: scale(1.2); } }

    /* ANIMACIÓN DE PÉTALOS Y CORAZONES */
    .falling-elements {
      position: fixed; top: -50px; width: 100%; height: 100%;
      pointer-events: none; z-index: -1;
    }
    .falling-element {
      position: absolute;
      background-size: contain; background-repeat: no-repeat;
      opacity: 0.8; animation: fall linear infinite;
    }
    @keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }
    /* Diferentes imágenes: pétalo y corazón */
    .petal { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50'%3E%3Cpath fill='%23FFEB3B' d='M25 0c-5 0-15 10-15 25s10 25 15 25 15-10 15-25S30 0 25 0z'/%3E%3C/svg%3E"); }
    .heart { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 29.6'%3E%3Cpath fill='%23FF4081' d='M23.6,0c-3.4,0-6.4,2.2-7.6,5.3C14.8,2.2,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4 c0,9.8,16,21.2,16,21.2S32,18.2,32,8.4C32,3.8,28.2,0,23.6,0z'/%3E%3C/svg%3E"); }

    /* RAMO DE FLORES */
    .bouquet-container {
      position: relative; width: 320px; height: 420px; margin: 0 auto 3rem;
      display: none; transform: scale(0); transition: transform 0.5s ease;
    }
    .stem {
      position: absolute; bottom: 0; left: 50%; width: 12px; height: 150px;
      background-color: #8BC34A; border-radius: 6px; transform: translateX(-50%);
      z-index: 1;
    }
    .ribbon {
      position: absolute; bottom: 50px; left: 50%; width: 100px; height: 30px;
      background-color: #f44336; transform: translateX(-50%) rotate(-5deg);
      z-index: 2; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .ribbon::after, .ribbon::before {
      content: ""; position: absolute; background-color: #f44336; z-index: 2;
    }
    .ribbon::after {
      width: 30px; height: 40px; bottom: 0; right: -20px; border-radius: 0 0 10px 0;
      transform: rotate(15deg);
    }
    .ribbon::before {
      width: 30px; height: 40px; bottom: -10px; left: -20px; border-radius: 0 0 0 10px;
      transform: rotate(-15deg);
    }
    .flower {
      position: absolute; width: 70px; height: 70px; border-radius: 50%;
      background-color: #FFEB3B; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      z-index: 3; display: flex; justify-content: center; align-items: center;
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .flower::before {
      content: ""; position: absolute; width: 80%; height: 80%; border-radius: 50%;
      background-color: #FFA000; z-index: -1;
    }
    .petal-flower {
      position: absolute; width: 30px; height: 30px;
      background-color: #FFEB3B; border-radius: 50% 50% 0 50%; transform-origin: bottom right;
    }
    .leaf {
      position: absolute; width: 40px; height: 20px;
      background-color: #8BC34A; border-radius: 50% 50% 50% 0;
      z-index: 0; opacity: 0; transition: opacity 0.5s ease;
    }

    /* GALERÍA DE FOTOS */
    .photos-container {
      display: none; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 20px;
    }
    .photo-frame {
      width: 220px; height: 220px; border-radius: 10px; padding: 10px; background: #fff;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1); position: relative; overflow: hidden;
      transform: scale(0); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .photo-wrapper { width: 100%; height: 100%; border-radius: 5px; overflow: hidden; }
    .photo { width: 100%; height: 100%; object-fit: cover; }
    .photo-frame::before, .photo-frame::after {
      content: ""; position: absolute; width: 30px; height: 30px;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23FFEB3B' d='M50 15c-3 0-5.7 1.6-7.2 4.2-1.5-2.6-4.2-4.2-7.2-4.2-4.4 0-8 3.6-8 8 0 3 1.6 5.7 4.2 7.2C29.2 31.7 27.6 34.4 27.6 37.4c0 4.4 3.6 8 8 8 3 0 5.7-1.6 7.2-4.2 1.5 2.6 4.2 4.2 7.2 4.2 4.4 0 8-3.6 8-8 0-3-1.6-5.7-4.2-7.2 2.6-1.5 4.2-4.2 4.2-7.2 0-4.4-3.6-8-8-8z'/%3E%3Ccircle fill='%23FFA000' cx='50' cy='30' r='8'/%3E%3C/svg%3E");
      background-size: contain; background-repeat: no-repeat; z-index: 2;
    }
    .photo-frame::before { top: -5px; left: -5px; transform: rotate(-30deg); }
    .photo-frame::after { bottom: -5px; right: -5px; transform: rotate(30deg); }

    /* TARJETA CON MENSAJE CON EFECTO MÁQUINA DE ESCRIBIR */
    .message-card {
      background: #fff; padding: 1.5rem; border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1); margin-top: 2rem;
      max-width: 600px; width: 100%; opacity: 0; overflow: hidden;
    }
    .message-text {
      font-size: 1.3rem; color: #f57c00; white-space: nowrap;
      border-right: 2px solid #f57c00; width: 0;
      overflow: hidden; animation: typing 4s steps(40, end) forwards, blink-caret 0.75s step-end infinite;
    }
    @keyframes typing { from { width: 0; } to { width: 100%; } }
    @keyframes blink-caret { 50% { border-color: transparent; } }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      h1 { font-size: 2rem; } p { font-size: 1rem; }
      .photo-frame { width: 150px; height: 150px; }
      .bouquet-container { width: 250px; height: 350px; }
    }
  </style>
</head>
<body>
  <!-- AUDIO ROMÁNTICO (inicia tras interacción del usuario) -->
  <audio id="loveAudio" src="https://example.com/tu-cancion-romantica.mp3"></audio>
  
  <!-- LOADER -->
  <div class="loader" id="loader">
    <div class="loader-flower"></div>
  </div>
  
  <!-- ELEMENTOS CAÍDOS (pétalos y corazones) -->
  <div class="falling-elements" id="fallingElements"></div>
  
  <main>
    <header>
      <h1>Para Mi Hermosa Esposa</h1>
      <p>Hoy te traigo flores, corazones y palabras de amor, para colorear tus días con mi pasión.</p>
    </header>
    
    <button class="btn" id="showBtn">Descubre tu sorpresa</button>
    
    <!-- RAMO DE FLORES -->
    <section class="bouquet-container" id="bouquet">
      <div class="stem"></div>
      <div class="ribbon"></div>
      <!-- Flores y hojas se generan dinámicamente -->
    </section>
    
    <!-- GALERÍA DE FOTOS -->
    <section class="photos-container" id="photosContainer">
      <article class="photo-frame">
        <div class="photo-wrapper">
          <img src="https://firebasestorage.googleapis.com/v0/b/pollotragonapp.appspot.com/o/IMG_0872.jpeg?alt=media&token=94b9d95d-c71f-4e04-99da-3fabff37549c" alt="Nuestro hijo" class="photo">
        </div>
      </article>
      <article class="photo-frame">
        <div class="photo-wrapper">
          <img src="https://firebasestorage.googleapis.com/v0/b/pollotragonapp.appspot.com/o/58cc0c49-d95d-419f-b28f-fb162cd320b5.jpeg?alt=media&token=46fdaaae-1666-44d3-8a28-84ae9e5a0ed9" alt="Imagen familiar" class="photo">
        </div>
      </article>
    </section>
    
    <!-- MENSAJE CON EFECTO DE MÁQUINA DE ESCRIBIR -->
    <section class="message-card" id="messageCard">
      <div class="message-text">
        Mi amada, cada latido de mi corazón te nombra. Juntos hemos tejido un amor eterno que ilumina mis días y embellece mi alma.
      </div>
    </section>
  </main>
  
  <script>
    // Ocultar loader tras cargar la página y activar pétalos y corazones
    window.addEventListener('load', () => {
      setTimeout(() => {
        const loader = document.getElementById('loader');
        loader.classList.add('loader-hidden');
        setTimeout(() => { loader.style.display = 'none'; initFallingElements(); }, 500);
      }, 1500);
    });
    
    // Inicializa elementos caídos (mezcla de pétalos y corazones)
    function initFallingElements() {
      const container = document.getElementById('fallingElements');
      const totalElements = 40;
      for (let i = 0; i < totalElements; i++) {
        const elem = document.createElement('div');
        elem.classList.add('falling-element');
        // Alterna entre pétalo y corazón
        elem.classList.add(i % 2 === 0 ? 'petal' : 'heart');
        const posX = Math.random() * 100;
        const size = 10 + Math.random() * 20;
        const duration = 10 + Math.random() * 20;
        const delay = Math.random() * 15;
        elem.style.left = `${posX}%`;
        elem.style.width = `${size}px`;
        elem.style.height = `${size}px`;
        elem.style.animationDuration = `${duration}s`;
        elem.style.animationDelay = `${delay}s`;
        container.appendChild(elem);
      }
    }
    
    // Crear el ramo de flores con hojas y pétalos
    function createBouquet() {
      const bouquet = document.getElementById('bouquet');
      bouquet.style.display = 'block';
      const flowerPositions = [
        { top: 50, left: 80 }, { top: 80, left: 150 }, { top: 60, left: 220 },
        { top: 120, left: 70 }, { top: 150, left: 150 }, { top: 130, left: 230 },
        { top: 190, left: 80 }, { top: 210, left: 150 }, { top: 180, left: 220 }
      ];
      const leafPositions = [
        { top: 170, left: 50, rotation: -30 }, { top: 220, left: 100, rotation: -15 },
        { top: 200, left: 200, rotation: 15 }, { top: 150, left: 250, rotation: 30 }
      ];
      // Agregar hojas con aparición gradual
      leafPositions.forEach((pos, index) => {
        const leaf = document.createElement('div');
        leaf.className = 'leaf';
        leaf.style.top = pos.top + 'px';
        leaf.style.left = pos.left + 'px';
        leaf.style.transform = `rotate(${pos.rotation}deg)`;
        bouquet.appendChild(leaf);
        setTimeout(() => { leaf.style.opacity = '1'; }, 1000 + index * 150);
      });
      // Agregar flores con pétalos
      flowerPositions.forEach((pos, index) => {
        const flower = document.createElement('div');
        flower.className = 'flower';
        flower.style.top = pos.top + 'px';
        flower.style.left = pos.left + 'px';
        flower.style.transform = 'scale(0)';
        for (let i = 0; i < 8; i++) {
          const petal = document.createElement('div');
          petal.className = 'petal-flower';
          petal.style.transform = `rotate(${i * 45}deg)`;
          flower.appendChild(petal);
        }
        bouquet.appendChild(flower);
        setTimeout(() => { flower.style.transform = 'scale(1)'; }, 500 + index * 150);
      });
      setTimeout(() => { bouquet.style.transform = 'scale(1)'; }, 300);
    }
    
    // Inicia música romántica (solo tras interacción del usuario)
    function playLoveMusic() {
      const audio = document.getElementById('loveAudio');
      if (audio.paused) audio.play().catch(() => {});
    }
    
    // Evento del botón para revelar la sorpresa
    document.getElementById('showBtn').addEventListener('click', () => {
      document.getElementById('showBtn').style.display = 'none';
      playLoveMusic();
      createBouquet();
      // Mostrar fotos y mensaje tras el ramo
      setTimeout(() => {
        const photosContainer = document.getElementById('photosContainer');
        photosContainer.style.display = 'flex';
        document.querySelectorAll('.photo-frame').forEach((frame, index) => {
          setTimeout(() => { frame.style.transform = 'scale(1)'; }, 300 * index);
        });
        setTimeout(() => {
          const messageCard = document.getElementById('messageCard');
          messageCard.style.opacity = '1';
        }, document.querySelectorAll('.photo-frame').length * 300 + 500);
      }, 2500);
    });
  </script>
</body>
</html>
